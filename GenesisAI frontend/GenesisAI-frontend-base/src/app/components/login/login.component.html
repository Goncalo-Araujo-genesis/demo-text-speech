<div class="login-container" #loginContainer>
  <div class="login-card">
    <!-- Logo -->
    <div class="logo-container">
        <img src="/assets/genesis-ai-logo.png" class="logo-icon" alt="Helper Logo">
    </div>

    <!-- Title -->
    <!-- <h1 class="login-title">Welcome to Genesis AI</h1> -->
    <!-- <p class="login-subtitle">Your Gateway to Intelligent Interaction</p> -->

    <!-- Login Form -->
    <form class="login-form" (ngSubmit)="onLogin()" #loginForm="ngForm">
      <!-- Email Field -->
      <div class="form-group">
        <label for="username" class="form-label">Email</label>
        <div class="input-container">
          <input
            #usernameInput
            id="username"
            type="email"
            class="form-input"
            [(ngModel)]="credentials.username"
            name="username"
            placeholder="Email address"
            required
            autocomplete="username"
            (keydown)="onEnterKey($event)"
            (input)="checkAutofilledFields()"
            [class.error]="errorMessage && !credentials.username"
          >
        </div>
      </div>

      <!-- Password Field -->
      <div class="form-group">
        <label for="password" class="form-label">Password</label>
        <div class="input-container">
          <input
            #passwordInput
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            class="form-input password-input"
            [(ngModel)]="credentials.password"
            name="password"
            placeholder="Password"
            required
            autocomplete="current-password"
            (keydown)="onEnterKey($event)"
            (input)="checkAutofilledFields()"
            [class.error]="errorMessage && !credentials.password"
          >
          <button
            type="button"
            class="password-toggle"
            (click)="togglePasswordVisibility()"
            [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'"
          >
            <fa-icon [icon]="showPassword ? faEyeSlash : faEye"></fa-icon>
          </button>
        </div>
      </div>

      <!-- Error Message -->
      <div class="error-message" *ngIf="errorMessage">
        <span>{{ errorMessage }}</span>
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="submit-button"
        [disabled]="isLoading || !isFormValid"
        [class.loading]="isLoading"
      >
        <span *ngIf="!isLoading">Login</span>
        <span *ngIf="isLoading" class="loading-content">
          <fa-icon [icon]="faSpinner" class="spinner"></fa-icon>
          Logging in...
        </span>
      </button>
    </form>

    <!-- Footer Text -->
    <div class="footer-text" *ngIf="showPolicyAgreement">
      By clicking "Login", you agree to Genesis AI's 
      <a href="#" class="link" (click)="openUserAgreementModal($event)">User Agreement</a> and 
      <a href="#" class="link" (click)="openPrivacyPolicyModal($event)">Privacy Policy</a>. 
      We prioritize your privacy and trust, guiding you through innovative interactions while 
      safeguarding your personal information.
    </div>
  </div>
</div>
